import React, { Component } from 'react'
import { Card, CardBody } from 'reactstrap'

import '../../stylesheets/vulnerability.css'

export default class Vulnerability extends Component {
  constructor(props) {
    super(props)

    this.state = {
      message: this.props.message,
      points: this.props.points === undefined ? '' : this.props.points,
      passConditions: this.props.pass,
    }

    this.updateValue = this.updateValue.bind(this)
    this.saveValues = this.saveValues.bind(this)
  }

  updateValue(evt) {
    this.setState({
      [evt.target.name]: evt.target.value,
    })
  }

  saveValues() {
    this.props.updateChecks(this.props.index, this.state)
  }

  render() {
    return (
      <Card className="vulnContainer">
        <CardBody>
          <p className="vulnerabilityInputLabel">Message</p>
          <input
            type="text"
            className="inputVulnConfig"
            value={this.state.message}
            name="message"
            onChange={this.updateValue}
          ></input>
          <input
            type="submit"
            className="vulnerabilitySaveButton"
            onClick={this.saveValues}
            value="Save"
          ></input>
        </CardBody>
      </Card>
    )
  }
}
